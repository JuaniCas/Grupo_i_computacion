<header-opc 
  title="Promociones"
  returnlink="/pagina_principal_admin"
  profileImage="assets/avatar_admin.png"
  [showButton]="false"
></header-opc>
<main class="app container pb-5">

  @for (promo of promociones; track promo.id) {
    <section class="row-card d-flex justify-content-between align-items-center">
      
      <div>
        <div class="fw-semibold">{{ promo.nombre }}</div>
        <div class="small text-muted">Estado: 
          <span [ngClass]="{'text-success': promo.activa, 'text-danger': !promo.activa}">
            {{ promo.activa ? 'Activa' : 'Inactiva' }}
          </span>
        </div>
      </div>
      
      <div class="d-flex gap-2 flex-wrap justify-content-end">
        
        <a routerLink="/editar_promocion/{{promo.id}}" class="btn btn-sm btn-outline-dark">Editar</a>
        
        <button 
          (click)="toggleActiva(promo.id, promo.nombre)" 
          [ngClass]="promo.activa ? 'btn-outline-secondary' : 'btn-success'" 
          class="btn btn-sm"
        >
          {{ promo.activa ? 'Desactivar' : 'Activar' }}
        </button>
        
        <button (click)="sendMail(promo.nombre)" class="btn btn-sm btn-mail text-white">Enviar Mail</button>
      </div>
    </section>
  }
  
  <div class="mt-4 d-grid">
    <a routerLink="/crear_promocion" class="btn btn-outline-secondary">+ Crear nueva promo</a>
  </div>

  <nav class="mt-4" aria-label="PaginaciÃ³n">
    <ul class="pagination pagination-sm justify-content-center">
      <li class="page-item active"><span class="page-link">1</span></li>
      <li class="page-item"><a class="page-link" href="#">2</a></li>
      <li class="page-item"><a class="page-link" href="#">3</a></li>
    </ul>
  </nav>
</main>